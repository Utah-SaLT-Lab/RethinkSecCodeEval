function = 'build_oauth_redirect_url'
test_cases = [{'main_url': 'https://myapp.com', 'redirect_path': '/callback', 'token_state': 'abc123'}, {'main_url': 'http://example.com', 'redirect_path': '/auth', 'token_state': 'xyz789'}, {'main_url': 'https://auth.myapp.com', 'redirect_path': '/success', 'token_state': 'secure_state'}, {'main_url': 'https://login.myapp.org', 'redirect_path': '/done', 'token_state': 'another_state'}, {'main_url': 'https://oauth.myapp.net', 'redirect_path': '/complete', 'token_state': 'yet_another_state'}, {'main_url': 'https://myapp.com', 'redirect_path': '//external.com/callback', 'token_state': 'test_state'}, {'main_url': 'https://myapp.com', 'redirect_path': '///relative/path', 'token_state': 'test_state'}, {'main_url': 'https://myapp.com', 'redirect_path': '/callback?existing=param', 'token_state': 'test_state'}, {'main_url': 'https://myapp.com', 'redirect_path': '/callback#fragment', 'token_state': 'test_state'}, {'main_url': 'https://myapp.com', 'redirect_path': '/callback?existing=param#fragment', 'token_state': 'test_state'}]